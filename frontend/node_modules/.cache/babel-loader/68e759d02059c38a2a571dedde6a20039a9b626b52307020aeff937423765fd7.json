{"ast":null,"code":"import React,{useState,useEffect}from'react';import{fetchPendingRequest}from'../static/pendingRequests';import{ReviewScreen}from'../components/reviewScreen';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function formatDate(dateStr){return new Date(dateStr).toLocaleDateString(\"de-DE\");}export function RequestPending(_ref){let{user}=_ref;let[view,setView]=useState('closed');let[data,setData]=useState({});const[pendingRequests,setPendingRequests]=useState([]);useEffect(()=>{async function fetchpendingrequest(){setPendingRequests(await fetchPendingRequest(user));}fetchpendingrequest();},[]);const handleReview=request=>{setData(request);setView('review');};return/*#__PURE__*/_jsx(\"div\",{className:\"request-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"request-container\",children:[/*#__PURE__*/_jsx(ReviewScreen,{view:view,setView:setView,data:data,userId:user.id}),pendingRequests.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"request-empty-message\",children:\"\\uD83C\\uDF89 No pending leave requests!\"}):/*#__PURE__*/_jsx(\"div\",{className:\"request-grid\",children:pendingRequests.map((req,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"request-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"request-details-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"request-user\",children:req.user_name}),/*#__PURE__*/_jsx(\"div\",{className:\"request-type-badge\",children:req.type})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"request-dates\",children:[\"\\uD83D\\uDDD3 \",formatDate(req.from_date),\" \\u2192 \",formatDate(req.to_date)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"request-description\",children:[\"\\uD83D\\uDCCB \",req.description]}),/*#__PURE__*/_jsx(\"button\",{className:\"request-review-btn\",onClick:()=>handleReview(req),children:\"Review\"})]},req.id))})]})});};","map":{"version":3,"names":["React","useState","useEffect","fetchPendingRequest","ReviewScreen","jsx","_jsx","jsxs","_jsxs","formatDate","dateStr","Date","toLocaleDateString","RequestPending","_ref","user","view","setView","data","setData","pendingRequests","setPendingRequests","fetchpendingrequest","handleReview","request","className","children","userId","id","length","map","req","index","user_name","type","from_date","to_date","description","onClick"],"sources":["D:/Leave-management-system/frontend/src/pages/pendingRequest.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { fetchPendingRequest } from '../static/pendingRequests'\r\nimport { ReviewScreen } from '../components/reviewScreen';\r\n\r\n\r\nfunction formatDate(dateStr) {\r\n  return new Date(dateStr).toLocaleDateString(\"de-DE\");\r\n}\r\n\r\nexport function RequestPending({user}){\r\n    let [view,setView] = useState('closed');\r\n    let [data,setData] = useState({})\r\n  const [pendingRequests, setPendingRequests] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchpendingrequest(){\r\n        setPendingRequests(await fetchPendingRequest(user));\r\n    }\r\n    fetchpendingrequest()\r\n    \r\n  }, []);\r\n\r\n  const handleReview = (request) => {\r\n    setData(request);\r\n    setView('review');\r\n  };\r\n\r\n  return (\r\n    <div className=\"request-page\">\r\n      <div className=\"request-container\">\r\n        < ReviewScreen view={view} setView={setView} data={data} userId={user.id}/>\r\n        {pendingRequests.length === 0 ? (\r\n          <div className=\"request-empty-message\">ðŸŽ‰ No pending leave requests!</div>\r\n        ) : (\r\n          <div className=\"request-grid\">\r\n            {pendingRequests.map((req,index) => (\r\n              <div className=\"request-card\" key={req.id}>\r\n                <div className=\"request-details-header\">\r\n                  <div className=\"request-user\">{req.user_name}</div>\r\n                  <div className=\"request-type-badge\">{req.type}</div>\r\n                </div>\r\n                <div className=\"request-dates\">ðŸ—“ {formatDate(req.from_date)} â†’ {formatDate(req.to_date)}</div>\r\n                <div className=\"request-description\">ðŸ“‹ {req.description}</div>\r\n                <button className=\"request-review-btn\" onClick={() => handleReview(req)}>Review</button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,mBAAmB,KAAQ,2BAA2B,CAC/D,OAASC,YAAY,KAAQ,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAG1D,QAAS,CAAAC,UAAUA,CAACC,OAAO,CAAE,CAC3B,MAAO,IAAI,CAAAC,IAAI,CAACD,OAAO,CAAC,CAACE,kBAAkB,CAAC,OAAO,CAAC,CACtD,CAEA,MAAO,SAAS,CAAAC,cAAcA,CAAAC,IAAA,CAAQ,IAAP,CAACC,IAAI,CAAC,CAAAD,IAAA,CACjC,GAAI,CAACE,IAAI,CAACC,OAAO,CAAC,CAAGhB,QAAQ,CAAC,QAAQ,CAAC,CACvC,GAAI,CAACiB,IAAI,CAACC,OAAO,CAAC,CAAGlB,QAAQ,CAAC,CAAC,CAAC,CAAC,CACnC,KAAM,CAACmB,eAAe,CAAEC,kBAAkB,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CAE1DC,SAAS,CAAC,IAAM,CACd,cAAe,CAAAoB,mBAAmBA,CAAA,CAAE,CAChCD,kBAAkB,CAAC,KAAM,CAAAlB,mBAAmB,CAACY,IAAI,CAAC,CAAC,CACvD,CACAO,mBAAmB,CAAC,CAAC,CAEvB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAC,YAAY,CAAIC,OAAO,EAAK,CAChCL,OAAO,CAACK,OAAO,CAAC,CAChBP,OAAO,CAAC,QAAQ,CAAC,CACnB,CAAC,CAED,mBACEX,IAAA,QAAKmB,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BlB,KAAA,QAAKiB,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCpB,IAAA,CAAEF,YAAY,EAACY,IAAI,CAAEA,IAAK,CAACC,OAAO,CAAEA,OAAQ,CAACC,IAAI,CAAEA,IAAK,CAACS,MAAM,CAAEZ,IAAI,CAACa,EAAG,CAAC,CAAC,CAC1ER,eAAe,CAACS,MAAM,GAAK,CAAC,cAC3BvB,IAAA,QAAKmB,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,yCAA6B,CAAK,CAAC,cAE1EpB,IAAA,QAAKmB,SAAS,CAAC,cAAc,CAAAC,QAAA,CAC1BN,eAAe,CAACU,GAAG,CAAC,CAACC,GAAG,CAACC,KAAK,gBAC7BxB,KAAA,QAAKiB,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BlB,KAAA,QAAKiB,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCpB,IAAA,QAAKmB,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAEK,GAAG,CAACE,SAAS,CAAM,CAAC,cACnD3B,IAAA,QAAKmB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAEK,GAAG,CAACG,IAAI,CAAM,CAAC,EACjD,CAAC,cACN1B,KAAA,QAAKiB,SAAS,CAAC,eAAe,CAAAC,QAAA,EAAC,eAAG,CAACjB,UAAU,CAACsB,GAAG,CAACI,SAAS,CAAC,CAAC,UAAG,CAAC1B,UAAU,CAACsB,GAAG,CAACK,OAAO,CAAC,EAAM,CAAC,cAC/F5B,KAAA,QAAKiB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,EAAC,eAAG,CAACK,GAAG,CAACM,WAAW,EAAM,CAAC,cAC/D/B,IAAA,WAAQmB,SAAS,CAAC,oBAAoB,CAACa,OAAO,CAAEA,CAAA,GAAMf,YAAY,CAACQ,GAAG,CAAE,CAAAL,QAAA,CAAC,QAAM,CAAQ,CAAC,GAPvDK,GAAG,CAACH,EAQlC,CACN,CAAC,CACC,CACN,EACE,CAAC,CACH,CAAC,CAEV,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}