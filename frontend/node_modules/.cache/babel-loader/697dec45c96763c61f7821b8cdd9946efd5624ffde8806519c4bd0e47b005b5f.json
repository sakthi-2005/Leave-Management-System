{"ast":null,"code":"import React,{useState,useEffect}from'react';import BulkImport from'./bulkimport';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function UserModal(_ref){let{user,onClose,onSave,onDelete,users}=_ref;const[formData,setFormData]=useState({name:'',email:'',password:'',position:'Intern',ManagerId:'',isAdmin:false});useEffect(()=>{if(user){setFormData({name:user.name||'',email:user.email||'',password:user.password||'',position:user.position||'',ManagerId:user.reporting_manager_id||'',isAdmin:user.isAdmin||false});}},[user]);const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));};const handleSubmit=()=>{if(user){console.log({...formData,id:user.id});onSave({...formData,id:user.id},'update');}else{onSave(formData,'insert');}};return/*#__PURE__*/_jsx(\"div\",{className:\"admin-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"admin-modal-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"admin-close\",onClick:onClose,children:\"\\u2716\"}),/*#__PURE__*/_jsx(\"h2\",{children:user?'Edit User':'Add User'}),/*#__PURE__*/_jsx(\"input\",{name:\"name\",placeholder:\"Name\",value:formData.name,onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",placeholder:\"Email\",value:formData.email,onChange:handleChange}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",placeholder:\"password\",value:formData.password,onChange:handleChange}),/*#__PURE__*/_jsxs(\"select\",{name:\"position\",placeholder:\"Position\",value:formData.position,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Intern\",children:\"Intern\"}),/*#__PURE__*/_jsx(\"option\",{value:\"HR\",children:\"HR\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Manager\",children:\"Manager\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Director\",children:\"Director\"})]}),/*#__PURE__*/_jsx(\"input\",{name:\"ManagerId\",placeholder:\"ManagerId\",value:formData.ManagerId,onChange:handleChange}),\"IsAdmin:\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"isAdmin\",checked:formData.isAdmin,style:{width:20},onChange:e=>setFormData(prev=>({...prev,isAdmin:e.target.checked}))}),/*#__PURE__*/_jsx(\"button\",{className:\"admin-submit\",onClick:handleSubmit,children:\"Save\"}),user?/*#__PURE__*/_jsx(\"button\",{className:\"admin-delete\",onClick:()=>onDelete(user.id),children:\"Delete\"}):/*#__PURE__*/_jsx(BulkImport,{onClose:onClose})]})});}export default UserModal;","map":{"version":3,"names":["React","useState","useEffect","BulkImport","jsx","_jsx","jsxs","_jsxs","UserModal","_ref","user","onClose","onSave","onDelete","users","formData","setFormData","name","email","password","position","ManagerId","isAdmin","reporting_manager_id","handleChange","e","value","target","prev","handleSubmit","console","log","id","className","children","onClick","placeholder","onChange","type","checked","style","width"],"sources":["D:/Leave-management-system/frontend/src/admin/userModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport BulkImport from './bulkimport';\r\n\r\nfunction UserModal({ user, onClose, onSave, onDelete, users}) {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    position: 'Intern',\r\n    ManagerId: '',\r\n    isAdmin: false\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setFormData({\r\n        name: user.name || '',\r\n        email: user.email || '',\r\n        password: user.password || '',\r\n        position: user.position || '',\r\n        ManagerId: user.reporting_manager_id || '',\r\n        isAdmin: user.isAdmin || false\r\n      });\r\n    }\r\n  }, [user]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    if (user) {\r\n      console.log({...formData,id:user.id})\r\n      onSave({...formData,id:user.id}, 'update');\r\n    }\r\n    else {\r\n      onSave(formData, 'insert');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin-modal\">\r\n      <div className=\"admin-modal-content\">\r\n        <span className=\"admin-close\" onClick={onClose}>âœ–</span>\r\n        <h2>{user ? 'Edit User' : 'Add User'}</h2>\r\n        <input name=\"name\" placeholder=\"Name\" value={formData.name} onChange={handleChange} />\r\n        <input name=\"email\" placeholder=\"Email\" value={formData.email} onChange={handleChange} />\r\n        <input name=\"password\" placeholder=\"password\" value={formData.password} onChange={handleChange} />\r\n        <select name=\"position\" placeholder=\"Position\" value={formData.position} onChange={handleChange} >\r\n          <option value=\"Intern\">Intern</option>\r\n          <option value=\"HR\">HR</option>\r\n          <option value=\"Manager\">Manager</option>\r\n          <option value=\"Director\">Director</option>\r\n        </select>\r\n        <input name=\"ManagerId\" placeholder=\"ManagerId\" value={formData.ManagerId} onChange={handleChange} />\r\n        IsAdmin:\r\n        <input type=\"checkbox\" name=\"isAdmin\" checked={formData.isAdmin} style={{width:20}}onChange={(e) => setFormData(prev => ({ ...prev, isAdmin: e.target.checked }))} />\r\n\r\n        <button className=\"admin-submit\" onClick={handleSubmit}>Save</button>\r\n        {user ? <button className=\"admin-delete\" onClick={() => onDelete(user.id)}>Delete</button> : <BulkImport onClose={onClose}/>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserModal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}